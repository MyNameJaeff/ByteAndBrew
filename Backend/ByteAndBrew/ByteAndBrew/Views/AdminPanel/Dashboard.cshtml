@using Microsoft.AspNetCore.Http
@{
    Layout = "_Layout";
    ViewData["Title"] = "Admin Dashboard";
    ViewData["Description"] = "A dashboard page for the admins of Byte & Brew allowing CRUD of database items";
}

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
        <div>
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Admin Dashboard</h1>
            <p class="text-gray-600 mt-2">Restaurant Management System</p>
        </div>
        <div class="flex items-center space-x-4">
            <form method="post" action="/AdminPanel/Logout">
                @Html.AntiForgeryToken()
                <button type="submit" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center">
                    <i class="fas fa-sign-out-alt mr-2"></i> Logout
                </button>
            </form>
        </div>
    </div>

    <div id="notification-container" class="fixed top-4 right-4 flex flex-col gap-2 z-[9999]"></div>

    <!-- Management Cards -->
    <div class="">
        @* Include management cards partials *@
        @await Html.PartialAsync("_ManagementCards")
    </div>

    <!-- Container for dynamic panels -->
    <div id="management-panel" class="hidden md:block max-w-7xl mx-auto px-1 sm:px-6 lg:px-8 mb-12"></div>

    <!-- Quick Actions -->
    @await Html.PartialAsync("_QuickActions")
</div>

@section Styles {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
}

@section Scripts {
    <script src="~/js/dashboard.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tempSuccess = '@TempData["Success"]';
            const tempError = '@TempData["Error"]';
            if (tempSuccess && tempSuccess !== '') showNotification(tempSuccess, 'success');
            if (tempError && tempError !== '') showNotification(tempError, 'error');
        });
    </script>
}